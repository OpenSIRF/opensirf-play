@(poiForm: Form[org.opensirf.obj.PreservationObjectInformation], poi: org.opensirf.obj.PreservationObjectInformation)

@import org.opensirf.obj.PreservationObjectInformation

@presObjInfo = @{ if(poi == null) new PreservationObjectInformation() else poi }

<link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/skeleton.css")">
<link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">

<script type="text/javascript">
	var epIndex = [];
	var extensionCounter = @presObjInfo.getObjectExtension.size();
	var digestCounter = 0;
</script>

<script src="@routes.Assets.versioned("javascripts/jquery-1.11.3.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/dynextp.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/dynext.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/dyndigi.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/dynid.js")" type="text/javascript"></script>

@helper.form(action = routes.Application.addPreservationObjectInformation) {
	<div id="preservationObjectInformationDiv">
	<fieldSet>
		@* Begin: Dates categories *@
		@helper.inputText(poiForm("objectCreationDate").copy(value=Some(presObjInfo.getObjectCreationDate())))
		@helper.inputText(poiForm("objectLastModifiedDate").copy(value=Some(presObjInfo.getObjectLastModifiedDate())))
		@helper.inputText(poiForm("objectLastAccessedDate").copy(value=Some(presObjInfo.getObjectLastAccessedDate())))
		@* End: Dates categories *@
		
		@* Begin: Retention category *@
		@retentionTemplate(poi.getObjectRetention())
		@* End: Retention category *@
		
		@* Begin: Packaging format category *@
		@packagingFormatTemplate(poi.getPackagingFormat())
		@* End: Packaging format category *@
		
		@* Begin: Fixity information category *@
		@fixityInformationTemplate(poi.getObjectFixity())
		@* End: Fixity information category *@
		
		@* Begin: Extension category *@
		<div id="extensionsDiv">
			@if(poi.getObjectExtension().size() > 0) {
				@for((e,eIndex) <- poi.getObjectExtension().zipWithIndex) {
					@extensionTemplate(e,eIndex)
				}
			}
		</div>
		<button type="button" id="addExtension" onclick="addExtensionFormElements();">Add extension</button>
		@* End: Extension category *@
		
		@* Begin: Identifier categories *@
		<div id="identifiersDiv">
			@if(poi.getObjectIdentifiers().size() > 0) {
				@for((i,iIndex) <- poi.getObjectIdentifiers().zipWithIndex) {
					@identifierTemplate(i,iIndex)
				}
			}
		</div>
		<button type="button" id="addIdentifier" onclick="addIdentifierFormElements();">Add preservation object identifier</button>
		@* End: Identifier categories *@
		
		
	</fieldSet>	
	<br/>
	<input type="submit" value="Submit"/>
	</div>
}

@*
	private ArrayList<RelatedObjects> objectRelatedObjects;

	private ArrayList<PreservationObjectAuditLog> objectAuditLog;

*@